---
structs:
   ico_head:
      offset: 0
      offset_type: static
      count: 1
      fields:
         reserved1:
            offset: 0
            size: 2
            lsbf: True
         image_type:
            offset: 2
            size: 2
            lsbf: True
         ico_num_images:
            offset: 4
            size: 2
            store: True
            lsbf: True
   ico_entry:
      count_field: ico_head/ico_num_images
      offset_type: follow
      follows: ico_head
      fields:
         width:
            offset: 0
            size: 1
         height:
            offset: 1
            size: 1
         ncolors:
            offset: 2
            size: 1
         reserved1:
            offset: 3
            size: 1
         color_planes:
            offset: 4
            size: 2
            lsbf: True
         bpp:
            offset: 6
            size: 2
            lsbf: True
         img_sz:
            offset: 8
            size: 4
            lsbf: True
         img_offset:
            offset: 12
            size: 4
            lsbf: True
            store: True
   bmp_info:
      offset_type: stored
      offset_field: ico_entry/img_offset
      fields:
         struct_sz:
            offset: 0
            size: 4
            lsbf: True
         width:
            offset: 4
            size: 4
            lsbf: True
         height:
            offset: 8
            size: 4
            lsbf: True
         color_planes:
            offset: 12
            size: 2
            lsbf: True
         bpp:
            offset: 14
            size: 2
            lsbf: True
         compression:
            offset: 16
            size: 4
            lsbf: True
         img_sz:
            offset: 20
            size: 4
            lsbf: True
         hres:
            offset: 24
            size: 4
            lsbf: True
         vres:
            offset: 28
            size: 4
            lsbf: True
         ncolors:
            offset: 32
            size: 4
            lsbf: True
            store: True
         nimp_colors:
            offset: 36
            size: 4
            lsbf: True
   bmp_palette:
      offset_type: follow
      follows: bmp_info
      fields:
         color:
            offset: 0
            size: 4
            lsbf: True

